## App purpose
Multipage Dash app for YouTube video search and analysis. AI features implemented to improve the user journey in searching videos, comparing and learning.<br>

Under development-to join the [Charming Data Community](https://charming-data.circle.so/c/ai-python-projects/august-project-ai-sentiment-analysis-of-videos) Project initiative <br>
Click on the image below for a short YouTube video demo

[![Watch the video](https://img.youtube.com/vi/-HaNWeulbOA/0.jpg)](https://youtu.be/-HaNWeulbOA)

## Main App features
1. search videos by topic. You Tube API running in the background. Capability to interactively refine the search (e.g. published Data, max returned results) via the the control panel.
2. Summary table listing the retrieved videos. This is ag-grid table with selectable rows. 
3. Video details cards including 150 words summary together with other details as descriptions, views, links etc.. The summary is generated by the AI starting from the video transcript. Card content is generated according to the selection in the summary table.
4. Video comments collected and stored to perform the sentiment analysis and evaluate a video-comments average sentiment score. Sentiment Analysis is implemented by usign LLM. A score from -10 ( the most negative) to 10 (the most positive) is assigned for each comment. An interactive plotly visualization provide an overview of the sentiment for all retrieved videos.
5. Video Semantic Clustering assisted by the AI. Embedding generated for each videos. PCA technique applied for dimensionality reduction - from n-dim to 2 dim. An interactive plotly visualization helps to identify videos groups with similar/different content. 
6. App style based on bootstrap standard themes with some  css customization.
7. Dash store as key component to share video search results between callback and maintain data during the browser session. This allow for data persistency in case of page refresh (e.g. navigate across pages) <br>

## AI features detatails
1. Langchain framework (Python AI packages) to interact with LLMs
2. Openai gpt-4o for the comments sentiment analysis 
3. Openai gpt-4o for the video transcript summarization
4. Openai text-embedding-ada-002 for transcripts embeddings <br>

## Known Code Limitations, potential improvements and  other important notes
1. this is POC. The numbers of max retrieved comments per video is forced to 10 (hardcoded). By removing this limit all the comments can be collected. The comments are not visible to the user now. 
2. this is POC. For the video search, the video duration option is forced to "short". Code can be improved by accepting the video duration as user preferences. A button for this purpose is already present on the search panel
3. the video search panel can be improved by enabling more searching option available with You Tube API
4. To run the code both YOUTUBE_DATA_API_KEY and  OPENAI_API_KEY env variable need to be defined in the local .env
5. Openai models can be replaced with other options
6. this is POC. During the video search, the videos w/o comments or w/o trascripts are ignored. The returned results could be less than the max set results. 
7. PCA can be run if at least two videos retrieved <br>


## App structure

```bash
dash-app-structure

|-- .env
|-- .gitignore
|-- License
|-- README.md
|-- assets  
|-- components
|   |-- home_cards.py
|   |-- video_card.py
|-- pages
|   |-- home.py
|   |-- search.py
|   |-- FAQ.py (placeholder)
|-- utils
|   |-- support.py
|-- searchApp.py
|-- requirements.txt

```

<br>

## Subfolders Details
### utils
code to retrieve the environment vars, support functions to extract videos details and data token counts to eval in advance the compatibiltiy with model context windows.
### components
support functions to build some components instantiated in the pages layout
### pages
pages layout code and callbacks
### python version
python311
